"use strict";(self.webpackChunkbiranila=self.webpackChunkbiranila||[]).push([[475],{4475:function(e,t,a){a.r(t),a.d(t,{chartColors:function(){return H},default:function(){return L}});var o=a(2791),r=a(1889),n=a(9439),i=a(7621),s=a(9585),l=a(6314),c=a(9504),d=a(4554),p=a(890),h=a(3967),u=a(7892),f=a.n(u),g=a(4750),x=a(1652),v=a(7079),m=a(3496),y=a(6578),b=a(9416),j=a(3081),Z=a(184);function k(e){var t=e.officeId,a=(0,h.Z)(),r=o.useState(function(){var e=new Date;return e.setDate(e.getDate()-7),e}().toISOString()),u=(0,n.Z)(r,2),k=u[0],I=u[1],D=o.useState((new Date).toISOString()),S=(0,n.Z)(D,2),w=S[0],C=S[1],T=(0,y.a)(b.Db,{variables:{officeId:t,startDate:k,endDate:w}}),A=T.data,F=T.refetch,E=(0,y.a)(j.Eg).data,z=(0,y.a)(j.Ph).data,W=o.useState(),Y=(0,n.Z)(W,2),M=Y[0],O=Y[1],P=o.useState([]),B=(0,n.Z)(P,2),L=B[0],R=B[1];o.useEffect((function(){if(A&&E&&z){var e=a.palette.text.primary,t=a.palette.grey[200],o=a.palette.grey[500];O({chart:{id:"bar-chart",stacked:!0,toolbar:{show:!1},zoom:{enabled:!0}},colors:H,responsive:[{breakpoint:500,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],xaxis:{type:"category",categories:E.getAllThreadTypes.map((function(e){return e.docType})),labels:{style:{colors:[e,e,e,e,e,e,e,e,e,e,e,e],fontSize:"8px"}}},yaxis:{labels:{style:{colors:[e]}}},grid:{borderColor:t,show:!0},tooltip:{theme:"light"},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},legend:{show:!0,position:"top",fontSize:"14px",fontFamily:"'Roboto', sans-serif",offsetX:20,labels:{useSeriesColors:!1,colors:o},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1}}),R(z.getAllThreadStatus.map((function(e){return{name:e.statusLabel,data:E.getAllThreadTypes.map((function(t){var a=A.getThreadTypeAnalytics.filter((function(a){return a.status.statusId===e.statusId&&a.docType.docId===t.docId}));return a.length>0?a.reduce((function(e,t){return e+t.count}),0):0}))}})))}}),[A,E,z,a]);return(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(s.Z,{title:(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(p.Z,{variant:"h4",children:"".concat(null===A||void 0===A?void 0:A.getThreadTypeAnalytics.reduce((function(e,t){return e+t.count}),0))}),(0,Z.jsx)(p.Z,{variant:"body2",children:"Total Documents"})]}),action:(0,Z.jsx)(x._,{dateAdapter:g.y,children:(0,Z.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,Z.jsx)(v.M,{label:"Report Start Date",views:["year","month","day"],value:f()(k),onChange:function(e){e&&(I(e.toISOString()),F({officeId:t,startDate:e.toISOString(),endDate:w}))},format:"MMMM DD, YYYY"}),(0,Z.jsx)(v.M,{label:"Report End Date",views:["year","month","day"],value:f()(w),onChange:function(e){e&&(C(e.toISOString()),F({officeId:t,startDate:k,endDate:e.toISOString()}))},format:"MMMM DD, YYYY"})]})})}),(0,Z.jsx)(c.Z,{children:M&&(0,Z.jsx)(m.Z,{type:"bar",height:500,options:M,series:L})})]})}var I=a(9286),D=a.n(I),S=a(6934),w=a(2065),C=(0,S.ZP)("div")((function(e){var t=e.theme;return{height:350,marginTop:t.spacing(5),"& .apexcharts-canvas svg":{height:350},"& .apexcharts-canvas svg,.apexcharts-canvas foreignObject":{overflow:"visible"},"& .apexcharts-legend":{height:72,alignContent:"center",position:"relative !important",borderTop:"solid 1px ".concat(t.palette.divider),top:"calc(".concat(278,"px) !important")}}}));function T(e){var t=e.officeId,a=e.completed,r=(0,h.Z)(),l=(0,y.a)(j.Eg).data,c=(0,y.a)(b.EN,{variables:{officeId:t,completed:a}}).data,d=o.useState([]),u=(0,n.Z)(d,2),f=u[0],g=u[1],x=function(e){var t=(0,h.Z)(),a={show:!0,label:"Total",color:t.palette.text.secondary,fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},o={offsetY:8,color:t.palette.text.primary,fontSize:t.typography.h3.fontSize,fontWeight:t.typography.h3.fontWeight,lineHeight:t.typography.h3.lineHeight},r={colors:[t.palette.primary.main,t.palette.warning.main,t.palette.info.main,t.palette.error.main,t.palette.success.main,t.palette.warning.dark,t.palette.success.main,t.palette.info.dark,t.palette.info.light],chart:{toolbar:{show:!1},zoom:{enabled:!1},foreColor:t.palette.text.disabled,fontFamily:t.typography.fontFamily},states:{hover:{filter:{type:"lighten",value:.04}},active:{filter:{type:"darken",value:.88}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:t.palette.divider,xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},markers:{size:0,strokeColors:t.palette.background.paper},tooltip:{x:{show:!1}},legend:{show:!1},plotOptions:{bar:{borderRadius:4,columnWidth:"28%",borderRadiusApplication:"end",borderRadiusWhenStacked:"last"},pie:{donut:{labels:{show:!0,value:o,total:a}}},radialBar:{track:{strokeWidth:"100%",background:(0,w.Fq)(t.palette.grey[500],.16)},dataLabels:{value:o,total:a}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:t.palette.divider,connectorColors:t.palette.divider}},polarArea:{rings:{strokeColor:t.palette.divider},spokes:{connectorColors:t.palette.divider}}},responsive:[{breakpoint:t.breakpoints.values.sm,options:{plotOptions:{bar:{columnWidth:"40%"}}}},{breakpoint:t.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"32%"}}}}]};return D()(r,e)}({colors:H,labels:l?l.getAllThreadTypes.map((function(e){return e.docType})):[],stroke:{colors:[r.palette.background.paper]},legend:{floating:!0,horizontalAlign:"center"},dataLabels:{enabled:!1,dropShadow:{enabled:!1}},tooltip:{fillSeriesColor:!1,y:{formatter:function(e){return e.toFixed(2)},title:{formatter:function(e){return"".concat(e)}}}}});return o.useEffect((function(){c&&l&&g(l.getAllThreadTypes.map((function(e){var t=c.getStatusAnalytics.filter((function(t){return t.docType.docId===e.docId}));return t.length>0?t.reduce((function(e,t){return e+t.count}),0):0})))}),[c,l]),(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(s.Z,{title:(0,Z.jsx)(p.Z,{variant:"h6",children:a?"Completed Documents":"Pending Documents"})}),(0,Z.jsx)(C,{dir:"ltr",children:(0,Z.jsx)(m.Z,{type:"donut",series:f,options:x,height:320})})]})}var A=a(7689),F=a(6151),E=a(4721),z=a(3044),W=a(3385),Y=a(7831);function M(e){var t=e.userId,a=(0,A.s0)(),o=(0,y.a)(j.PK,{variables:{userId:t}}).data;return(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(s.Z,{title:"To-Do-List"}),(0,Z.jsxs)(d.Z,{sx:{maxHeight:500,overflowY:"auto"},children:[0===(null===o||void 0===o?void 0:o.getThreadInbox.length)&&(0,Z.jsxs)(d.Z,{sx:{display:"flex",height:280,justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,Z.jsx)(Y.Z,{color:"secondary",sx:{fontSize:64,mb:1}}),(0,Z.jsx)(p.Z,{variant:"subtitle1",children:"Job Well Done!"}),(0,Z.jsx)(p.Z,{variant:"body1",children:"You have no recurring tasks"})]}),(0,Z.jsx)(l.Z,{spacing:3,sx:{p:3,pr:0},children:null===o||void 0===o?void 0:o.getThreadInbox.map((function(e){return(0,Z.jsx)(P,{task:e},e.refId)}))})]}),(0,Z.jsx)(E.Z,{}),(0,Z.jsx)(d.Z,{sx:{p:2,textAlign:"right"},children:(0,Z.jsx)(F.Z,{size:"small",color:"inherit",endIcon:(0,Z.jsx)(W.Z,{}),onClick:function(){return a("/app/inbox")},children:"View all"})})]})}var O=function(e){return new Date(e).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric"})};function P(e){var t=e.task,a=t.subject,o=t.author,r=t.docType,n=t.dateUpdated;return(0,Z.jsxs)(l.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,Z.jsx)(z.Z,{sx:{width:48,height:48},children:"".concat(o.firstName.charAt(0)).concat(o.lastName.charAt(0))}),(0,Z.jsxs)(d.Z,{sx:{minWidth:240,flexGrow:1},children:[(0,Z.jsx)(p.Z,{color:"inherit",variant:"subtitle2",noWrap:!0,children:a}),(0,Z.jsx)(p.Z,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:"".concat(o.firstName," ").concat(o.lastName," \u2014 ").concat(r.docType)})]}),(0,Z.jsx)(p.Z,{variant:"caption",sx:{pr:3,flexShrink:0,color:"text.secondary"},children:"Updated at ".concat(O(n))})]})}var B=a(2872);function L(){var e=(0,B.C)((function(e){return e.auth})),t=e.uid,a=e.office;return(0,Z.jsxs)(r.ZP,{container:!0,spacing:2,sx:{maxHeight:"calc(100vh - 80px)",overflowY:"auto",pb:2,px:2},children:[(0,Z.jsx)(r.ZP,{item:!0,xs:12,md:12,children:(0,Z.jsx)(k,{officeId:null===a||void 0===a?void 0:a.sectionId})}),(0,Z.jsx)(r.ZP,{item:!0,md:12,lg:3,children:(0,Z.jsx)(T,{officeId:null===a||void 0===a?void 0:a.sectionId,completed:!0})}),(0,Z.jsx)(r.ZP,{item:!0,md:12,lg:3,children:(0,Z.jsx)(T,{officeId:null===a||void 0===a?void 0:a.sectionId,completed:!1})}),(0,Z.jsx)(r.ZP,{item:!0,md:12,lg:6,children:(0,Z.jsx)(M,{userId:t})})]})}var H=["#9288F8","#FFD2D7","#461959","#7A316F","#CD6688","#AED8CC","#9A208C","#E11299","#35155D","#512B81","#4477CE","#8CABFF","#6F61C0","#A084E8","#8BE8E5","#D5FFE4","#4682A9","#749BC2","#91C8E4","#F6F4EB","#FFE7A0","#322653","#8062D6","#FFEAEA","#F5C6EC"]}}]);
//# sourceMappingURL=475.919b2a67.chunk.js.map