"use strict";(self.webpackChunkbiranila=self.webpackChunkbiranila||[]).push([[475],{4475:function(e,t,o){o.r(t),o.d(t,{chartColors:function(){return H},default:function(){return L}});var r=o(2791),a=o(1889),n=o(9439),i=o(7621),s=o(9585),l=o(6314),c=o(9504),d=o(4554),p=o(890),u=o(3967),h=o(7892),f=o.n(h),g=o(4750),x=o(1652),v=o(7079),m=o(3496),y=o(6578),b=o(9416),j=o(3081),Z=o(2872),k=o(184);function C(e){var t=e.officeId,o=(0,u.Z)(),a=(0,Z.C)((function(e){return e.auth})).role,h=r.useState(function(){var e=new Date;return e.setDate(e.getDate()-30),e}().toISOString()),C=(0,n.Z)(h,2),I=C[0],D=C[1],S=r.useState((new Date).toISOString()),w=(0,n.Z)(S,2),T=w[0],A=w[1],F=(0,y.a)(b.Db,{variables:{officeId:t,startDate:I,endDate:T,superuser:a?a.superuser:null}}),E=F.data,z=F.refetch,W=(0,y.a)(j.Eg).data,Y=(0,y.a)(j.Ph).data,M=r.useState(),O=(0,n.Z)(M,2),P=O[0],B=O[1],L=r.useState([]),R=(0,n.Z)(L,2),N=R[0],U=R[1];r.useEffect((function(){if(E&&W&&Y){var e=o.palette.text.primary,t=o.palette.grey[200],r=o.palette.grey[500];B({chart:{id:"bar-chart",stacked:!0,toolbar:{show:!1},zoom:{enabled:!0}},colors:H,responsive:[{breakpoint:500,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],xaxis:{type:"category",categories:W.getAllThreadTypes.map((function(e){return e.docType})),labels:{style:{colors:[e,e,e,e,e,e,e,e,e,e,e,e],fontSize:"8px"}}},yaxis:{labels:{style:{colors:[e]}}},grid:{borderColor:t,show:!0},tooltip:{theme:"light"},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},legend:{show:!0,position:"top",fontSize:"14px",fontFamily:"'Roboto', sans-serif",offsetX:20,labels:{useSeriesColors:!1,colors:r},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1}}),U(Y.getAllThreadStatus.map((function(e){return{name:e.statusLabel,data:W.getAllThreadTypes.map((function(t){var o=E.getThreadTypeAnalytics.filter((function(o){return o.status.statusId===e.statusId&&o.docType.docId===t.docId}));return o.length>0?o.reduce((function(e,t){return e+t.count}),0):0}))}})))}}),[E,W,Y,o]);return(0,k.jsxs)(i.Z,{children:[(0,k.jsx)(s.Z,{title:(0,k.jsxs)(d.Z,{children:[(0,k.jsx)(p.Z,{variant:"h4",children:"".concat(null===E||void 0===E?void 0:E.getThreadTypeAnalytics.reduce((function(e,t){return e+t.count}),0))}),(0,k.jsx)(p.Z,{variant:"body2",children:"Total Documents"})]}),action:(0,k.jsx)(x._,{dateAdapter:g.y,children:(0,k.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,k.jsx)(v.M,{label:"Report Start Date",views:["year","month","day"],value:f()(I),onChange:function(e){e&&(D(e.toISOString()),z({officeId:t,startDate:e.toISOString(),endDate:T}))},format:"MMMM DD, YYYY"}),(0,k.jsx)(v.M,{label:"Report End Date",views:["year","month","day"],value:f()(T),onChange:function(e){e&&(A(e.toISOString()),z({officeId:t,startDate:I,endDate:e.toISOString()}))},format:"MMMM DD, YYYY"})]})})}),(0,k.jsx)(c.Z,{children:P&&(0,k.jsx)(m.Z,{type:"bar",height:500,options:P,series:N})})]})}var I=o(9286),D=o.n(I),S=o(6934),w=o(2065),T=(0,S.ZP)("div")((function(e){var t=e.theme;return{height:350,marginTop:t.spacing(5),"& .apexcharts-canvas svg":{height:350},"& .apexcharts-canvas svg,.apexcharts-canvas foreignObject":{overflow:"visible"},"& .apexcharts-legend":{height:72,alignContent:"center",position:"relative !important",borderTop:"solid 1px ".concat(t.palette.divider),top:"calc(".concat(278,"px) !important")}}}));function A(e){var t=e.officeId,o=e.completed,a=(0,u.Z)(),l=(0,Z.C)((function(e){return e.auth})).role,c=(0,y.a)(j.Eg).data,d=(0,y.a)(b.EN,{variables:{officeId:t,completed:o,superuser:l?l.superuser:null}}).data,h=r.useState([]),f=(0,n.Z)(h,2),g=f[0],x=f[1],v=function(e){var t=(0,u.Z)(),o={show:!0,label:"Total",color:t.palette.text.secondary,fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},r={offsetY:8,color:t.palette.text.primary,fontSize:t.typography.h3.fontSize,fontWeight:t.typography.h3.fontWeight,lineHeight:t.typography.h3.lineHeight},a={colors:[t.palette.primary.main,t.palette.warning.main,t.palette.info.main,t.palette.error.main,t.palette.success.main,t.palette.warning.dark,t.palette.success.main,t.palette.info.dark,t.palette.info.light],chart:{toolbar:{show:!1},zoom:{enabled:!1},foreColor:t.palette.text.disabled,fontFamily:t.typography.fontFamily},states:{hover:{filter:{type:"lighten",value:.04}},active:{filter:{type:"darken",value:.88}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:t.palette.divider,xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},markers:{size:0,strokeColors:t.palette.background.paper},tooltip:{x:{show:!1}},legend:{show:!1},plotOptions:{bar:{borderRadius:4,columnWidth:"28%",borderRadiusApplication:"end",borderRadiusWhenStacked:"last"},pie:{donut:{labels:{show:!0,value:r,total:o}}},radialBar:{track:{strokeWidth:"100%",background:(0,w.Fq)(t.palette.grey[500],.16)},dataLabels:{value:r,total:o}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:t.palette.divider,connectorColors:t.palette.divider}},polarArea:{rings:{strokeColor:t.palette.divider},spokes:{connectorColors:t.palette.divider}}},responsive:[{breakpoint:t.breakpoints.values.sm,options:{plotOptions:{bar:{columnWidth:"40%"}}}},{breakpoint:t.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"32%"}}}}]};return D()(a,e)}({colors:H,labels:c?c.getAllThreadTypes.map((function(e){return e.docType})):[],stroke:{colors:[a.palette.background.paper]},legend:{floating:!0,horizontalAlign:"center"},dataLabels:{enabled:!1,dropShadow:{enabled:!1}},tooltip:{fillSeriesColor:!1,y:{formatter:function(e){return e.toFixed(2)},title:{formatter:function(e){return"".concat(e)}}}}});return r.useEffect((function(){d&&c&&x(c.getAllThreadTypes.map((function(e){var t=d.getStatusAnalytics.filter((function(t){return t.docType.docId===e.docId}));return t.length>0?t.reduce((function(e,t){return e+t.count}),0):0})))}),[d,c]),(0,k.jsxs)(i.Z,{children:[(0,k.jsx)(s.Z,{title:(0,k.jsx)(p.Z,{variant:"h6",children:o?"Completed Documents":"Pending Documents"})}),(0,k.jsx)(T,{dir:"ltr",children:(0,k.jsx)(m.Z,{type:"donut",series:g,options:v,height:320})})]})}var F=o(7689),E=o(6151),z=o(4721),W=o(3044),Y=o(3385),M=o(7831);function O(e){var t=e.userId,o=(0,F.s0)(),r=(0,y.a)(j.PK,{variables:{userId:t}}).data;return(0,k.jsxs)(i.Z,{children:[(0,k.jsx)(s.Z,{title:"To-Do-List"}),(0,k.jsxs)(d.Z,{sx:{maxHeight:500,overflowY:"auto"},children:[0===(null===r||void 0===r?void 0:r.getThreadInbox.length)&&(0,k.jsxs)(d.Z,{sx:{display:"flex",height:280,justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,k.jsx)(M.Z,{color:"secondary",sx:{fontSize:64,mb:1}}),(0,k.jsx)(p.Z,{variant:"subtitle1",children:"Job Well Done!"}),(0,k.jsx)(p.Z,{variant:"body1",children:"You have no recurring tasks"})]}),(0,k.jsx)(l.Z,{spacing:3,sx:{p:3,pr:0},children:null===r||void 0===r?void 0:r.getThreadInbox.map((function(e){return(0,k.jsx)(B,{task:e},e.refId)}))})]}),(0,k.jsx)(z.Z,{}),(0,k.jsx)(d.Z,{sx:{p:2,textAlign:"right"},children:(0,k.jsx)(E.Z,{size:"small",color:"inherit",endIcon:(0,k.jsx)(Y.Z,{}),onClick:function(){return o("/app/inbox")},children:"View all"})})]})}var P=function(e){return new Date(e).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric"})};function B(e){var t=e.task,o=t.subject,r=t.author,a=t.docType,n=t.dateUpdated;return(0,k.jsxs)(l.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,k.jsx)(W.Z,{sx:{width:48,height:48},children:"".concat(r.firstName.charAt(0)).concat(r.lastName.charAt(0))}),(0,k.jsxs)(d.Z,{sx:{minWidth:240,flexGrow:1},children:[(0,k.jsx)(p.Z,{color:"inherit",variant:"subtitle2",noWrap:!0,children:o}),(0,k.jsx)(p.Z,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:"".concat(r.firstName," ").concat(r.lastName," \u2014 ").concat(a.docType)})]}),(0,k.jsx)(p.Z,{variant:"caption",sx:{pr:3,flexShrink:0,color:"text.secondary"},children:"Updated at ".concat(P(n))})]})}function L(){var e=(0,Z.C)((function(e){return e.auth})),t=e.uid,o=e.office;return(0,k.jsxs)(a.ZP,{container:!0,spacing:2,sx:{maxHeight:"calc(100vh - 80px)",overflowY:"auto",pb:2,px:2},children:[(0,k.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,k.jsx)(C,{officeId:null===o||void 0===o?void 0:o.sectionId})}),(0,k.jsx)(a.ZP,{item:!0,md:12,lg:3,children:(0,k.jsx)(A,{officeId:null===o||void 0===o?void 0:o.sectionId,completed:!0})}),(0,k.jsx)(a.ZP,{item:!0,md:12,lg:3,children:(0,k.jsx)(A,{officeId:null===o||void 0===o?void 0:o.sectionId,completed:!1})}),(0,k.jsx)(a.ZP,{item:!0,md:12,lg:6,children:(0,k.jsx)(O,{userId:t})})]})}var H=["#9288F8","#FFD2D7","#461959","#7A316F","#CD6688","#AED8CC","#9A208C","#E11299","#35155D","#512B81","#4477CE","#8CABFF","#6F61C0","#A084E8","#8BE8E5","#D5FFE4","#4682A9","#749BC2","#91C8E4","#F6F4EB","#FFE7A0","#322653","#8062D6","#FFEAEA","#F5C6EC"]}}]);
//# sourceMappingURL=475.856dd93a.chunk.js.map