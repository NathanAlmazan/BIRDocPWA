"use strict";(self.webpackChunkbiranila=self.webpackChunkbiranila||[]).push([[658],{1658:function(e,t,o){o.r(t),o.d(t,{chartColors:function(){return H},default:function(){return B}});var a=o(2791),r=o(1889),n=o(9439),i=o(7621),s=o(9585),l=o(6314),c=o(9504),d=o(4554),p=o(890),u=o(3967),h=o(7892),f=o.n(h),g=o(4750),x=o(1652),m=o(7079),y=o(3496),v=o(6578),b=o(9416),j=o(3081),Z=o(2872),S=o(184);function D(e){var t=e.officeId,o=(0,u.Z)(),r=(0,Z.C)((function(e){return e.auth})).role,h=a.useState(function(){var e=new Date;return e.setDate(e.getDate()-30),e}().toISOString()),D=(0,n.Z)(h,2),I=D[0],w=D[1],k=a.useState((new Date).toISOString()),C=(0,n.Z)(k,2),T=C[0],A=C[1],F=(0,v.a)(b.Db,{variables:{officeId:t,startDate:I,endDate:T,superuser:r?r.superuser:null}}),M=F.data,Y=F.refetch,E=(0,v.a)(j.Eg).data,z=(0,v.a)(j.Ph).data,O=a.useState(),P=(0,n.Z)(O,2),W=P[0],L=P[1],R=a.useState([]),B=(0,n.Z)(R,2),N=B[0],X=B[1];a.useEffect((function(){if(M&&E&&z){var e=o.palette.text.primary,t=o.palette.grey[200],a=o.palette.grey[500];L({chart:{id:"bar-chart",stacked:!0,toolbar:{show:!1},zoom:{enabled:!0}},colors:H,responsive:[{breakpoint:500,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],xaxis:{type:"category",categories:E.getAllThreadTypes.map((function(e){return e.docType})),labels:{style:{colors:[e,e,e,e,e,e,e,e,e,e,e,e],fontSize:"8px"}}},yaxis:{labels:{style:{colors:[e]}}},grid:{borderColor:t,show:!0},tooltip:{theme:"light"},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},legend:{show:!0,position:"top",fontSize:"14px",fontFamily:"'Roboto', sans-serif",offsetX:20,labels:{useSeriesColors:!1,colors:a},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1}}),X(z.getAllThreadStatus.map((function(e){return{name:e.statusLabel,data:E.getAllThreadTypes.map((function(t){var o=M.getThreadTypeAnalytics.filter((function(o){return o.status.statusId===e.statusId&&o.docType.docId===t.docId}));return o.length>0?o.reduce((function(e,t){return e+t.count}),0):0}))}})))}}),[M,E,z,o]);return(0,S.jsxs)(i.Z,{children:[(0,S.jsx)(s.Z,{title:(0,S.jsx)(d.Z,{children:(0,S.jsx)(p.Z,{variant:"h6",children:"Document Types Tracker"})}),action:(0,S.jsx)(x._,{dateAdapter:g.y,children:(0,S.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,S.jsx)(m.M,{label:"Report Start Date",views:["year","month","day"],value:f()(I),onChange:function(e){e&&(w(e.toISOString()),Y({officeId:t,startDate:e.toISOString(),endDate:T}))},format:"MMMM DD, YYYY"}),(0,S.jsx)(m.M,{label:"Report End Date",views:["year","month","day"],value:f()(T),onChange:function(e){e&&(A(e.toISOString()),Y({officeId:t,startDate:I,endDate:e.toISOString()}))},format:"MMMM DD, YYYY"})]})})}),(0,S.jsx)(c.Z,{children:W&&(0,S.jsx)(y.Z,{type:"bar",height:500,options:W,series:N})})]})}function I(e){var t=e.officeId,o=(0,u.Z)(),r=(0,Z.C)((function(e){return e.auth})).role,h=a.useState(function(){var e=new Date;return e.setDate(e.getDate()-30),e}().toISOString()),D=(0,n.Z)(h,2),I=D[0],w=D[1],k=a.useState((new Date).toISOString()),C=(0,n.Z)(k,2),T=C[0],A=C[1],F=(0,v.a)(b.QI,{variables:{officeId:t,startDate:I,endDate:T,superuser:r?r.superuser:null}}),M=F.data,Y=F.refetch,E=(0,v.a)(j.Do).data,z=(0,v.a)(j.Ph).data,O=a.useState(),P=(0,n.Z)(O,2),W=P[0],L=P[1],R=a.useState([]),B=(0,n.Z)(R,2),N=B[0],X=B[1];console.log(M),a.useEffect((function(){if(M&&E&&z){var e=o.palette.text.primary,t=o.palette.grey[200],a=o.palette.grey[500];L({chart:{id:"bar-chart",stacked:!0,toolbar:{show:!1},zoom:{enabled:!0}},colors:H,responsive:[{breakpoint:500,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],xaxis:{type:"category",categories:E.getAllThreadPurpose.map((function(e){return e.purposeName})),labels:{style:{colors:[e,e,e,e,e,e,e,e,e,e,e,e],fontSize:"8px"}}},yaxis:{labels:{style:{colors:[e]}}},grid:{borderColor:t,show:!0},tooltip:{theme:"light"},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},legend:{show:!0,position:"top",fontSize:"14px",fontFamily:"'Roboto', sans-serif",offsetX:20,labels:{useSeriesColors:!1,colors:a},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1}}),X(z.getAllThreadStatus.map((function(e){return{name:e.statusLabel,data:E.getAllThreadPurpose.map((function(t){var o=M.getThreadPurposeAnalytics.filter((function(o){return o.status.statusId===e.statusId&&o.purpose.purposeId===t.purposeId}));return o.length>0?o.reduce((function(e,t){return e+t.count}),0):0}))}})))}}),[M,E,z,o]);return(0,S.jsxs)(i.Z,{children:[(0,S.jsx)(s.Z,{title:(0,S.jsx)(d.Z,{children:(0,S.jsx)(p.Z,{variant:"h6",children:"Document Purpose Tracker"})}),action:(0,S.jsx)(x._,{dateAdapter:g.y,children:(0,S.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,S.jsx)(m.M,{label:"Report Start Date",views:["year","month","day"],value:f()(I),onChange:function(e){e&&(w(e.toISOString()),Y({officeId:t,startDate:e.toISOString(),endDate:T}))},format:"MMMM DD, YYYY"}),(0,S.jsx)(m.M,{label:"Report End Date",views:["year","month","day"],value:f()(T),onChange:function(e){e&&(A(e.toISOString()),Y({officeId:t,startDate:I,endDate:e.toISOString()}))},format:"MMMM DD, YYYY"})]})})}),(0,S.jsx)(c.Z,{children:W&&(0,S.jsx)(y.Z,{type:"bar",height:500,options:W,series:N})})]})}var w=o(9286),k=o.n(w),C=o(6934),T=o(2065),A=(0,C.ZP)("div")((function(e){var t=e.theme;return{height:350,marginTop:t.spacing(5),"& .apexcharts-canvas svg":{height:350},"& .apexcharts-canvas svg,.apexcharts-canvas foreignObject":{overflow:"visible"},"& .apexcharts-legend":{height:72,alignContent:"center",position:"relative !important",borderTop:"solid 1px ".concat(t.palette.divider),top:"calc(".concat(278,"px) !important")}}}));function F(e){var t=e.officeId,o=e.completed,r=(0,u.Z)(),l=(0,Z.C)((function(e){return e.auth})).role,c=(0,v.a)(j.Eg).data,d=(0,v.a)(b.EN,{variables:{officeId:t,completed:o,superuser:l?l.superuser:null}}).data,h=a.useState([]),f=(0,n.Z)(h,2),g=f[0],x=f[1],m=function(e){var t=(0,u.Z)(),o={show:!0,label:"Total",color:t.palette.text.secondary,fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},a={offsetY:8,color:t.palette.text.primary,fontSize:t.typography.h3.fontSize,fontWeight:t.typography.h3.fontWeight,lineHeight:t.typography.h3.lineHeight},r={colors:[t.palette.primary.main,t.palette.warning.main,t.palette.info.main,t.palette.error.main,t.palette.success.main,t.palette.warning.dark,t.palette.success.main,t.palette.info.dark,t.palette.info.light],chart:{toolbar:{show:!1},zoom:{enabled:!1},foreColor:t.palette.text.disabled,fontFamily:t.typography.fontFamily},states:{hover:{filter:{type:"lighten",value:.04}},active:{filter:{type:"darken",value:.88}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:t.palette.divider,xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},markers:{size:0,strokeColors:t.palette.background.paper},tooltip:{x:{show:!1}},legend:{show:!1},plotOptions:{bar:{borderRadius:4,columnWidth:"28%",borderRadiusApplication:"end",borderRadiusWhenStacked:"last"},pie:{donut:{labels:{show:!0,value:a,total:o}}},radialBar:{track:{strokeWidth:"100%",background:(0,T.Fq)(t.palette.grey[500],.16)},dataLabels:{value:a,total:o}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:t.palette.divider,connectorColors:t.palette.divider}},polarArea:{rings:{strokeColor:t.palette.divider},spokes:{connectorColors:t.palette.divider}}},responsive:[{breakpoint:t.breakpoints.values.sm,options:{plotOptions:{bar:{columnWidth:"40%"}}}},{breakpoint:t.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"32%"}}}}]};return k()(r,e)}({colors:H,labels:c?c.getAllThreadTypes.map((function(e){return e.docType})):[],stroke:{colors:[r.palette.background.paper]},legend:{floating:!0,horizontalAlign:"center"},dataLabels:{enabled:!1,dropShadow:{enabled:!1}},tooltip:{fillSeriesColor:!1,y:{formatter:function(e){return e.toFixed(2)},title:{formatter:function(e){return"".concat(e)}}}}});return a.useEffect((function(){d&&c&&x(c.getAllThreadTypes.map((function(e){var t=d.getStatusAnalytics.filter((function(t){return t.docType.docId===e.docId}));return t.length>0?t.reduce((function(e,t){return e+t.count}),0):0})))}),[d,c]),(0,S.jsxs)(i.Z,{sx:{height:"100%"},children:[(0,S.jsx)(s.Z,{title:(0,S.jsx)(p.Z,{variant:"h6",children:o?"Completed Documents":"Pending Documents"})}),(0,S.jsx)(A,{dir:"ltr",children:(0,S.jsx)(y.Z,{type:"donut",series:g,options:m,height:380})})]})}var M=o(7689),Y=o(6151),E=o(4721),z=o(3044),O=o(3385),P=o(7831);function W(e){var t=e.userId,o=(0,M.s0)(),a=(0,v.a)(j.PK,{variables:{userId:t,type:"pending"}}).data;return(0,S.jsxs)(i.Z,{children:[(0,S.jsx)(s.Z,{title:"To-Do-List"}),(0,S.jsxs)(d.Z,{sx:{maxHeight:500,overflowY:"auto"},children:[0===(null===a||void 0===a?void 0:a.getThreadInbox.length)&&(0,S.jsxs)(d.Z,{sx:{display:"flex",height:280,justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,S.jsx)(P.Z,{color:"secondary",sx:{fontSize:64,mb:1}}),(0,S.jsx)(p.Z,{variant:"subtitle1",children:"Job Well Done!"}),(0,S.jsx)(p.Z,{variant:"body1",children:"You have no recurring tasks"})]}),(0,S.jsx)(l.Z,{spacing:3,sx:{p:3,pr:0},children:null===a||void 0===a?void 0:a.getThreadInbox.map((function(e){return(0,S.jsx)(R,{task:e},e.refId)}))})]}),(0,S.jsx)(E.Z,{}),(0,S.jsx)(d.Z,{sx:{p:2,textAlign:"right"},children:(0,S.jsx)(Y.Z,{size:"small",color:"inherit",endIcon:(0,S.jsx)(O.Z,{}),onClick:function(){return o("/app/inbox")},children:"View all"})})]})}var L=function(e){return new Date(e).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric"})};function R(e){var t=e.task,o=t.subject,a=t.author,r=t.docType,n=t.dateUpdated;return(0,S.jsxs)(l.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,S.jsx)(z.Z,{sx:{width:48,height:48},children:"".concat(a.firstName.charAt(0)).concat(a.lastName.charAt(0))}),(0,S.jsxs)(d.Z,{sx:{minWidth:240,flexGrow:1},children:[(0,S.jsx)(p.Z,{color:"inherit",variant:"subtitle2",noWrap:!0,children:o}),(0,S.jsx)(p.Z,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:"".concat(a.firstName," ").concat(a.lastName," \u2014 ").concat(r.docType)})]}),(0,S.jsx)(p.Z,{variant:"caption",sx:{pr:3,flexShrink:0,color:"text.secondary"},children:"Updated at ".concat(L(n))})]})}function B(){var e=(0,Z.C)((function(e){return e.auth})),t=e.uid,o=e.office;return(0,S.jsxs)(r.ZP,{container:!0,spacing:2,sx:{maxHeight:"calc(100vh - 80px)",overflowY:"auto",pb:2,px:2},children:[(0,S.jsx)(r.ZP,{item:!0,md:12,lg:8,children:(0,S.jsx)(D,{officeId:null===o||void 0===o?void 0:o.sectionId})}),(0,S.jsx)(r.ZP,{item:!0,md:6,lg:4,children:(0,S.jsx)(F,{officeId:null===o||void 0===o?void 0:o.sectionId,completed:!0})}),(0,S.jsx)(r.ZP,{item:!0,md:12,lg:8,children:(0,S.jsx)(I,{officeId:null===o||void 0===o?void 0:o.sectionId})}),(0,S.jsx)(r.ZP,{item:!0,md:6,lg:4,children:(0,S.jsx)(F,{officeId:null===o||void 0===o?void 0:o.sectionId,completed:!1})}),(0,S.jsx)(r.ZP,{item:!0,md:12,lg:8,children:(0,S.jsx)(W,{userId:t})})]})}var H=["#9288F8","#FFD2D7","#461959","#7A316F","#CD6688","#AED8CC","#9A208C","#E11299","#35155D","#512B81","#4477CE","#8CABFF","#6F61C0","#A084E8","#8BE8E5","#D5FFE4","#4682A9","#749BC2","#91C8E4","#F6F4EB","#FFE7A0","#322653","#8062D6","#FFEAEA","#F5C6EC"]}}]);
//# sourceMappingURL=658.d7debbc6.chunk.js.map